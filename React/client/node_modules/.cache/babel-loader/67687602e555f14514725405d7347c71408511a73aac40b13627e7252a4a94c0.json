{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Downloads\\\\React\\\\React\\\\client\\\\src\\\\movies\\\\MovieIndex.js\",\n  _s = $RefreshSig$();\n/*  _____ _______         _                      _\n * |_   _|__   __|       | |                    | |\n *   | |    | |_ __   ___| |___      _____  _ __| | __  ___ ____\n *   | |    | | '_ \\ / _ \\ __\\ \\ /\\ / / _ \\| '__| |/ / / __|_  /\n *  _| |_   | | | | |  __/ |_ \\ V  V / (_) | |  |   < | (__ / /\n * |_____|  |_|_| |_|\\___|\\__| \\_/\\_/ \\___/|_|  |_|\\_(_)___/___|\n *                                _\n *              ___ ___ ___ _____|_|_ _ _____\n *             | . |  _| -_|     | | | |     |  LICENCE\n *             |  _|_| |___|_|_|_|_|___|_|_|_|\n *             |_|\n *\n *   PROGRAMOVÁNÍ  <>  DESIGN  <>  PRÁCE/PODNIKÁNÍ  <>  HW A SW\n *\n * Tento zdrojový kód je součástí výukových seriálů na\n * IT sociální síti WWW.ITNETWORK.CZ\n *\n * Kód spadá pod licenci prémiového obsahu a vznikl díky podpoře\n * našich členů. Je určen pouze pro osobní užití a nesmí být šířen.\n * Více informací na http://www.itnetwork.cz/licence\n */\n\nimport React, { useState, useEffect } from \"react\";\nimport { apiDelete, apiGet } from \"../utils/api\";\nimport MovieTable from \"./MovieTable\";\nimport MovieFilter from \"./MovieFilter\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MovieIndex = () => {\n  _s();\n  const [directorListState, setDirectorList] = useState([]);\n  const [actorListState, setActorList] = useState([]);\n  const [genreListState, setGenreList] = useState([]);\n  const [moviesState, setMovies] = useState([]);\n  const [filterState, setFilter] = useState({\n    directorID: undefined,\n    actorID: undefined,\n    genre: undefined,\n    fromYear: undefined,\n    toYear: undefined,\n    limit: undefined\n  });\n  useEffect(() => {\n    apiGet(\"/api/directors\").then(data => setDirectorList(data));\n    apiGet(\"/api/actors\").then(data => setActorList(data));\n    apiGet(\"/api/genres\").then(data => setGenreList(data));\n    apiGet(\"/api/movies\").then(data => setMovies(data));\n  }, []);\n  const deleteMovie = async id => {\n    await apiDelete(\"/api/movies/\" + id);\n    setMovies(moviesState.filter(movie => movie._id !== id));\n  };\n  const handleChange = e => {\n    console.log(e.target.value);\n    // pokud vybereme prázdnou hodnotu (máme definováno jako true/false/'' v komponentách), nastavíme na undefined\n    if (e.target.value === \"false\" || e.target.value === \"true\" || e.target.value === \"\") {\n      setFilter(prevState => {\n        return {\n          ...prevState,\n          [e.target.name]: undefined\n        };\n      });\n    } else {\n      setFilter(prevState => {\n        return {\n          ...prevState,\n          [e.target.name]: e.target.value\n        };\n      });\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const params = filterState;\n    const data = await apiGet(\"/api/movies\", params);\n    setMovies(data);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Seznam film\\u016F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MovieFilter, {\n      handleChange: handleChange,\n      handleSubmit: handleSubmit,\n      directorList: directorListState,\n      actorList: actorListState,\n      genreList: genreListState,\n      filter: filterState,\n      confirm: \"Filtrovat filmy\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MovieTable, {\n      deleteMovie: deleteMovie,\n      items: moviesState,\n      label: \"Po\\u010Det film\\u016F:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n_s(MovieIndex, \"QSdNTcIpWUK7aJsps48Q8M5kZfg=\");\n_c = MovieIndex;\nexport default MovieIndex;\nvar _c;\n$RefreshReg$(_c, \"MovieIndex\");","map":{"version":3,"names":["React","useState","useEffect","apiDelete","apiGet","MovieTable","MovieFilter","jsxDEV","_jsxDEV","MovieIndex","_s","directorListState","setDirectorList","actorListState","setActorList","genreListState","setGenreList","moviesState","setMovies","filterState","setFilter","directorID","undefined","actorID","genre","fromYear","toYear","limit","then","data","deleteMovie","id","filter","movie","_id","handleChange","e","console","log","target","value","prevState","name","handleSubmit","preventDefault","params","children","fileName","_jsxFileName","lineNumber","columnNumber","directorList","actorList","genreList","confirm","items","label","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/Downloads/React/React/client/src/movies/MovieIndex.js"],"sourcesContent":["/*  _____ _______         _                      _\n * |_   _|__   __|       | |                    | |\n *   | |    | |_ __   ___| |___      _____  _ __| | __  ___ ____\n *   | |    | | '_ \\ / _ \\ __\\ \\ /\\ / / _ \\| '__| |/ / / __|_  /\n *  _| |_   | | | | |  __/ |_ \\ V  V / (_) | |  |   < | (__ / /\n * |_____|  |_|_| |_|\\___|\\__| \\_/\\_/ \\___/|_|  |_|\\_(_)___/___|\n *                                _\n *              ___ ___ ___ _____|_|_ _ _____\n *             | . |  _| -_|     | | | |     |  LICENCE\n *             |  _|_| |___|_|_|_|_|___|_|_|_|\n *             |_|\n *\n *   PROGRAMOVÁNÍ  <>  DESIGN  <>  PRÁCE/PODNIKÁNÍ  <>  HW A SW\n *\n * Tento zdrojový kód je součástí výukových seriálů na\n * IT sociální síti WWW.ITNETWORK.CZ\n *\n * Kód spadá pod licenci prémiového obsahu a vznikl díky podpoře\n * našich členů. Je určen pouze pro osobní užití a nesmí být šířen.\n * Více informací na http://www.itnetwork.cz/licence\n */\n\nimport React, { useState, useEffect } from \"react\";\nimport { apiDelete, apiGet } from \"../utils/api\";\n\nimport MovieTable from \"./MovieTable\";\nimport MovieFilter from \"./MovieFilter\";\n\nconst MovieIndex = () => {\n  const [directorListState, setDirectorList] = useState([]);\n  const [actorListState, setActorList] = useState([]);\n  const [genreListState, setGenreList] = useState([]);\n  const [moviesState, setMovies] = useState([]);\n  const [filterState, setFilter] = useState({\n    directorID: undefined,\n    actorID: undefined,\n    genre: undefined,\n    fromYear: undefined,\n    toYear: undefined,\n    limit: undefined,\n  });\n\n  useEffect(() => {\n    apiGet(\"/api/directors\").then((data) => setDirectorList(data));\n    apiGet(\"/api/actors\").then((data) => setActorList(data));\n    apiGet(\"/api/genres\").then((data) => setGenreList(data));\n    apiGet(\"/api/movies\").then((data) => setMovies(data));\n  }, []);\n\n  const deleteMovie = async (id) => {\n    await apiDelete(\"/api/movies/\" + id);\n    setMovies(moviesState.filter((movie) => movie._id !== id));\n  };\n\n  const handleChange = (e) => {\n    console.log(e.target.value);\n    // pokud vybereme prázdnou hodnotu (máme definováno jako true/false/'' v komponentách), nastavíme na undefined\n    if (\n      e.target.value === \"false\" ||\n      e.target.value === \"true\" ||\n      e.target.value === \"\"\n    ) {\n      setFilter((prevState) => {\n        return { ...prevState, [e.target.name]: undefined };\n      });\n    } else {\n      setFilter((prevState) => {\n        return { ...prevState, [e.target.name]: e.target.value };\n      });\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const params = filterState;\n\n    const data = await apiGet(\"/api/movies\", params);\n    setMovies(data);\n  };\n\n  return (\n    <div>\n      <h1>Seznam filmů</h1>\n      <hr />\n      <MovieFilter\n        handleChange={handleChange}\n        handleSubmit={handleSubmit}\n        directorList={directorListState}\n        actorList={actorListState}\n        genreList={genreListState}\n        filter={filterState}\n        confirm=\"Filtrovat filmy\"\n      />\n      <hr />\n      <MovieTable\n        deleteMovie={deleteMovie}\n        items={moviesState}\n        label=\"Počet filmů:\"\n      />\n    </div>\n  );\n};\n\nexport default MovieIndex;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}