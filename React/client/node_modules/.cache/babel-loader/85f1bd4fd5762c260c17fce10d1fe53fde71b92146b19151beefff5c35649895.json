{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Downloads\\\\React\\\\React\\\\client\\\\src\\\\login\\\\LoginPage.js\",\n  _s = $RefreshSig$();\nimport FlashMessage from \"../components/FlashMessage\";\nimport InputField from \"../components/InputField\";\nimport { useEffect, useState } from \"react\";\nimport { useSession } from \"../contexts/session\";\nimport { useNavigate } from \"react-router-dom\";\nimport { apiPost, HttpRequestError } from \"../utils/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const LoginPage = () => {\n  _s();\n  const [valuesState, setValuesState] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [errorMessageState, setErrorMessageState] = useState(null);\n  const {\n    session,\n    setSession\n  } = useSession();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (session.data) {\n      navigate(\"/\");\n    }\n  }, [session]);\n  const handleChange = e => {\n    const fieldName = e.target.name;\n    setValuesState({\n      ...valuesState,\n      [fieldName]: e.target.value\n    });\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    apiPost(\"/api/auth\", valuesState).then(data => setSession({\n      data,\n      status: \"authenticated\"\n    })).catch(e => {\n      if (e instanceof HttpRequestError) {\n        e.response.text().then(message => setErrorMessageState(message));\n        return;\n      }\n      setErrorMessageState(\"Při komunikaci se serverem nastala chyba.\");\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"offset-4 col-sm-6 mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"P\\u0159ihl\\xE1\\u0161en\\xED\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [errorMessageState ? /*#__PURE__*/_jsxDEV(FlashMessage, {\n        theme: \"danger\",\n        text: errorMessageState\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 38\n      }, this) : null, /*#__PURE__*/_jsxDEV(InputField, {\n        type: \"email\",\n        required: true,\n        label: \"E-mail\",\n        handleChange: handleChange,\n        value: valuesState.email,\n        prompt: \"E-mail\",\n        name: \"email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        type: \"password\",\n        required: true,\n        label: \"Heslo\",\n        handleChange: handleChange,\n        value: valuesState.password,\n        prompt: \"Heslo\",\n        name: \"password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        className: \"btn btn-primary mt-2\",\n        value: \"P\\u0159ihl\\xE1sit se\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n_s(LoginPage, \"HymS7pZEXMqtQfAwkuK/rgcfbRI=\", false, function () {\n  return [useSession, useNavigate];\n});\n_c = LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["FlashMessage","InputField","useEffect","useState","useSession","useNavigate","apiPost","HttpRequestError","jsxDEV","_jsxDEV","LoginPage","_s","valuesState","setValuesState","email","password","errorMessageState","setErrorMessageState","session","setSession","navigate","data","handleChange","e","fieldName","target","name","value","handleSubmit","preventDefault","then","status","catch","response","text","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","theme","type","required","label","prompt","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/Downloads/React/React/client/src/login/LoginPage.js"],"sourcesContent":["import FlashMessage from \"../components/FlashMessage\";\nimport InputField from \"../components/InputField\";\nimport {useEffect, useState} from \"react\";\nimport {useSession} from \"../contexts/session\";\nimport {useNavigate} from \"react-router-dom\";\nimport {apiPost, HttpRequestError} from \"../utils/api\";\n\nexport const LoginPage = () => {\n    const [valuesState, setValuesState] = useState({email: \"\", password: \"\"});\n    const [errorMessageState, setErrorMessageState] = useState(null);\n    const {session, setSession} = useSession();\n    const navigate = useNavigate();\n    useEffect(() => {\n        if (session.data) {\n            navigate(\"/\");\n        }\n    }, [session]);\n    const handleChange = (e) => {\n        const fieldName = e.target.name;\n        setValuesState({...valuesState, [fieldName]: e.target.value});\n    }\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        apiPost(\"/api/auth\", valuesState)\n            .then(data => setSession({data, status: \"authenticated\"}))\n            .catch(e => {\n                if (e instanceof HttpRequestError) {\n                    e.response.text().then(message => setErrorMessageState(message));\n                    return;\n                }\n                setErrorMessageState(\"Při komunikaci se serverem nastala chyba.\");\n            });\n    }\n    return (\n        <div className=\"offset-4 col-sm-6 mt-5\">\n            <h1>Přihlášení</h1>\n            <form onSubmit={handleSubmit}>\n                {errorMessageState ? <FlashMessage theme={\"danger\"} text={errorMessageState}></FlashMessage> : null}\n\n                <InputField type=\"email\" required={true} label=\"E-mail\" handleChange={handleChange}\n                            value={valuesState.email} prompt=\"E-mail\" name=\"email\"/>\n                <InputField type=\"password\" required={true} label=\"Heslo\" handleChange={handleChange}\n                            value={valuesState.password} prompt={\"Heslo\"} name=\"password\"/>\n\n                <input type=\"submit\" className=\"btn btn-primary mt-2\" value=\"Přihlásit se\"/>\n            </form>\n        </div>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}