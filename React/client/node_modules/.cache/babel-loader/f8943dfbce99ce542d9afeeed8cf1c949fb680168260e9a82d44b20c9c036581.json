{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Downloads\\\\React\\\\React\\\\client\\\\src\\\\registration\\\\RegistrationPage.js\",\n  _s = $RefreshSig$();\nimport { apiPost, HttpRequestError } from \"../utils/api\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport InputField from \"../components/InputField\";\nimport FlashMessage from \"../components/FlashMessage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const RegistrationPage = () => {\n  _s();\n  const nav = useNavigate();\n  const [errorMessageState, setErrorMessageState] = useState(null);\n  const [valuesState, setValuesState] = useState({\n    password: \"\",\n    confirmPassword: \"\",\n    email: \"\"\n  });\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (valuesState.password !== valuesState.confirmPassword) {\n      setErrorMessageState(\"Hesla se nerovnají\");\n      return;\n    }\n    const {\n      confirmPassword,\n      ...registrationData\n    } = valuesState;\n    apiPost(\"/api/user\", registrationData).then(() => {\n      nav(\"/login\");\n    }).catch(e => {\n      if (e instanceof HttpRequestError && e.response.status === 400) {\n        e.response.text().then(message => setErrorMessageState(message));\n        return;\n      }\n      setErrorMessageState(\"Při komunikaci se serverem nastala chyba.\");\n    });\n  };\n  const handleChange = e => {\n    const fieldName = e.target.name;\n    setValuesState({\n      ...valuesState,\n      [fieldName]: e.target.value\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"offset-4 col-sm-6 mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Registrace\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [errorMessageState ? /*#__PURE__*/_jsxDEV(FlashMessage, {\n        theme: \"danger\",\n        text: errorMessageState\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 38\n      }, this) : null, /*#__PURE__*/_jsxDEV(InputField, {\n        type: \"email\",\n        name: \"email\",\n        label: \"E-mail\",\n        prompt: \"Zadejte V\\xE1\\u0161 E-mail\",\n        value: valuesState.email,\n        handleChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        type: \"password\",\n        name: \"password\",\n        label: \"Heslo\",\n        prompt: \"Zadejte Va\\u0161e heslo\",\n        min: 6,\n        value: valuesState.password,\n        handleChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputField, {\n        type: \"password\",\n        name: \"confirmPassword\",\n        label: \"Heslo znovu\",\n        prompt: \"Zadejte Va\\u0161e heslo znovu\",\n        value: valuesState.confirmPassword,\n        handleChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        className: \"btn btn-primary mt-2\",\n        value: \"Registrovat se\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n_s(RegistrationPage, \"NrjUfHqfoTyJdiK3n4nunnO30vk=\", false, function () {\n  return [useNavigate];\n});\n_c = RegistrationPage;\nvar _c;\n$RefreshReg$(_c, \"RegistrationPage\");","map":{"version":3,"names":["apiPost","HttpRequestError","useNavigate","useState","InputField","FlashMessage","jsxDEV","_jsxDEV","RegistrationPage","_s","nav","errorMessageState","setErrorMessageState","valuesState","setValuesState","password","confirmPassword","email","handleSubmit","e","preventDefault","registrationData","then","catch","response","status","text","message","handleChange","fieldName","target","name","value","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","theme","type","label","prompt","min","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/Downloads/React/React/client/src/registration/RegistrationPage.js"],"sourcesContent":["import {apiPost, HttpRequestError} from \"../utils/api\";\nimport {useNavigate} from \"react-router-dom\";\nimport {useState} from \"react\";\nimport InputField from \"../components/InputField\";\nimport FlashMessage from \"../components/FlashMessage\";\n\n\nexport const RegistrationPage = () => {\n    const nav = useNavigate();\n    const [errorMessageState, setErrorMessageState] = useState(null);\n    const [valuesState, setValuesState] = useState({password: \"\", confirmPassword: \"\", email: \"\"});\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if (valuesState.password !== valuesState.confirmPassword) {\n            setErrorMessageState(\"Hesla se nerovnají\");\n            return;\n        }\n        const {confirmPassword, ...registrationData} = valuesState;\n        apiPost(\"/api/user\", registrationData)\n            .then(() => {\n                nav(\"/login\");\n            }).catch(e => {\n            if(e instanceof HttpRequestError && e.response.status === 400) {\n                e.response.text().then(message => setErrorMessageState(message));\n                return;\n            }\n            setErrorMessageState(\"Při komunikaci se serverem nastala chyba.\");\n        });\n    };\n    const handleChange = (e) => {\n        const fieldName = e.target.name;\n        setValuesState({...valuesState, [fieldName]: e.target.value});\n    };\n    return (\n        <div className=\"offset-4 col-sm-6 mt-5\">\n            <h1>Registrace</h1>\n            <form onSubmit={handleSubmit}>\n                {errorMessageState ? <FlashMessage theme={\"danger\"} text={errorMessageState}></FlashMessage> : null}\n                <InputField type=\"email\" name=\"email\" label=\"E-mail\" prompt=\"Zadejte Váš E-mail\" value={valuesState.email}\n                            handleChange={handleChange}/>\n                <InputField type=\"password\" name=\"password\" label=\"Heslo\" prompt=\"Zadejte Vaše heslo\" min={6} value={valuesState.password}\n                            handleChange={handleChange}/>\n                <InputField type=\"password\" name=\"confirmPassword\" label=\"Heslo znovu\" prompt=\"Zadejte Vaše heslo znovu\" value={valuesState.confirmPassword}\n                            handleChange={handleChange}/>\n                <input type=\"submit\" className=\"btn btn-primary mt-2\" value=\"Registrovat se\"/>\n            </form>\n        </div>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}